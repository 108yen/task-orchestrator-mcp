# Project Structure

## Root Directory Organization

```
├── src/                    # Source code (TypeScript)
├── test/integration/       # Integration tests with MCP client simulation
├── bin/                    # Built executable files
├── dist/                   # Build output (generated by tsdown)
├── @types/                 # Custom TypeScript declarations
├── .eslint/                # ESLint configuration modules
├── .changeset/             # Changeset configuration for releases
├── .kiro/                  # Project documentation and specs
├── .github/                # GitHub workflows and templates
└── node_modules/           # Dependencies (generated)
```

## Source Code Architecture (`src/`)

- **`index.ts`**: Main entry point, MCP server startup, error handling
- **`server.ts`**: MCP server instance creation and configuration
- **`tools.ts`**: Tool registration and MCP tool definitions (7 main tools)
- **`task.ts`**: Core business logic for hierarchical task operations
- **`storage.ts`**: Storage abstraction layer (file/memory backends)
- **`*.test.ts`**: Unit tests co-located with source files

## Key Data Model

```typescript
interface Task {
  id: string // UUID identifier
  name: string // Task name
  description: string // Detailed description
  status: string // 'todo' | 'in_progress' | 'done'
  resolution?: string // Completion details
  tasks: Task[] // Nested subtasks array (hierarchical)
}
```

## Configuration Files Structure

- **`package.json`**: Project metadata, scripts, dependencies
- **`tsconfig.json`**: Strict TypeScript configuration
- **`eslint.config.ts`**: Flat ESLint configuration with modular imports
- **`vitest.config.ts`**: Test configuration with environment loading
- **`lefthook.yml`**: Git hooks configuration
- **`.prettierrc`**: Code formatting rules

## Documentation Structure (`.kiro/`)

- **`steering/`**: High-level project direction and decisions
  - `product.md`: Product vision and strategy
  - `tech.md`: Technical decisions and architecture principles
  - `structure.md`: Project organization conventions
- **`specs/`**: Detailed specifications and requirements
  - `requirements.md`: Functional requirements and use cases
  - `design.md`: Architecture and system design
  - `tasks.md`: Implementation tasks and priorities

## Testing Structure

- **Unit tests**: Co-located with source files (`*.test.ts`)
- **Integration tests**: `test/integration/` directory
  - `shared.ts`: Test utilities and MCP client setup
  - `workflow.test.ts`: Complex hierarchy scenarios
  - `basic-operations.test.ts`: CRUD operations
  - `hierarchy.test.ts`: Parent-child relationships

## Build Artifacts

- **`bin/`**: CLI executable files
- **`dist/`**: Compiled output (CJS + ESM formats)
- Generated files should never be edited directly
